# poc-cve-2024-23334
This repository contains a proof of concept about the exploitation of the aiohttp library for the reported vulnerability CVE-2024-23334.

This was created for two reasons:
1. Educational purposes: for those who are starting in application security, it is helpful to see the steps to reproduce a vulnerability as well as understanding the concepts behind it.
2. Fixing steps: sharing mitigation steps in order to fix the issue.

For more information, visit my website: https://brianre.dev/

## Requirements
- Install Docker
- Install Python3

## How to run the project locally.

1. Clone this repo locally.
2. Run the following command to build the image:

```bash
make build
```

3. Run the following command to run the container:

```bash
make run
```

If you want to run docker in detached mode, just run:

```bash
make rund
```

## Scenarios

1. **There is already created a symlink to a restricted file, such as /etc/shadow.** This scenario is the most improbable,
but maybe someone internally from the company can leak information using this and people may not check the static logs.
And in case static file access is not logged, it is very difficult to identify when it was leaked.

The scenario created in this repo was just for explaining the vulnerability and prooving that it exists and is still exploitable.


## Mitigations

TODO

## Development

In order to set up the project locally to develop, you have to:

1. Create virtual environment.

```bash
python3 -m venv env
```

2. Install dependencies.

```bash
pip3 install -r requirements.txt
pip3 install -r test-requirements.txt
```

## Resources
- https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-23334
- https://nvd.nist.gov/vuln/detail/CVE-2024-23334